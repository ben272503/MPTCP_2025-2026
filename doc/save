ğŸŸ© 2. Lancer un Ã©change MPTCP simple (route 1)
Sur le serveur
Code
nc -l -p 5000 -s 192.168.1.10
Sur le client
Code
nc -s 10.0.1.10 192.168.1.10 5000
Tape du texte â†’ il doit apparaÃ®tre cÃ´tÃ© serveur.

ğŸ‘‰ Ceci crÃ©e le premier subflow MPTCP (MP_CAPABLE).

ğŸŸ§ 3. Lancer les subflows supplÃ©mentaires
Ton kernel 4.19 MPTCP utilise fullmesh â†’ il va automatiquement essayer de crÃ©er des subflows supplÃ©mentaires.

Pour les forcer proprement, ouvre 3 autres terminaux sur le client :

Subflow route 2
Code
nc -s 10.0.2.10 192.168.2.10 5000
Subflow route 3
Code
nc -s 10.0.3.10 192.168.3.10 5000
Subflow route 4
Code
nc -s 10.0.4.10 192.168.4.10 5000
Tu nâ€™as pas besoin de taper du texte :
le simple SYN suffit pour crÃ©er un MP_JOIN.

ğŸŸª 4. Voir les subflows dans Wireshark (routeur)
Dans Wireshark :

Filtre :
Code
tcp.option_kind == 30
Ajoute la colonne â€œInterfaceâ€ :
Right click â†’ Column Preferences â†’ Add

Field : frame.interface_name

Tu vas voir :

MP_CAPABLE sur route 1

MP_JOIN sur route 2

MP_JOIN sur route 3

MP_JOIN sur route 4

Avec les interfaces :

Subflow	Interface entrÃ©e	Interface sortie
Route 1	enp1s0	enp11s0
Route 2	enp8s0	enp12s0
Route 3	enp9s0	enp13s0
Route 4	enp10s0	enp14s0
ğŸŸ« 5. VÃ©rifier les subflows cÃ´tÃ© serveur ou client
Code
ss -M
ou :

Code
cat /proc/net/mptcp_net/mptcp
Tu dois voir 4 lignes, une par subflow.

ğŸŸ© RÃ©sultat attendu
Dans Wireshark, tu verras :

MP_CAPABLE (connexion principale)

MP_JOIN (subflows supplÃ©mentaires)

DSS (mapping des donnÃ©es)

HMAC, nonce, token

Et tu pourras dire dans ton TP :

â€œChaque subflow MPTCP correspond Ã  un chemin physique distinct entre client et serveur.
Le routeur montre clairement les interfaces utilisÃ©es pour chaque sous-flux.â€
